{% comment %}
	Featured Collection Section
	Allows merchants to select a collection and control product display
{% endcomment %}

<section class="featured-collection">
	<div class="page-width">
		{% if section.settings.title != blank %}
			<h2 class="section-title">{{ section.settings.title }}</h2>
		{% endif %}

		{% if section.settings.collection != blank %}
			{% assign featured_collection = collections[section.settings.collection] %}

			{% if featured_collection.products.size > 0 %}
				<div class="grid grid--uniform">
					{% for product in featured_collection.products limit: section.settings.product_limit %}
						<div class="grid__item">
							{% render 'product-card', product: product %}
						</div>
					{% endfor %}
				</div>
			{% else %}
				<p>No products found in this collection.</p>
			{% endif %}
		{% else %}
			<p>Please select a collection in the section settings.</p>
		{% endif %}
	</div>
</section>

{% schema %}
{
	"name": "Featured Collection",
	"settings": [
		{
			"type": "text",
			"id": "title",
			"label": "Section Title",
			"default": "Featured Collection"
		},
		{
			"type": "collection",
			"id": "collection",
			"label": "Choose Collection"
		},
		{
			"type": "range",
			"id": "product_limit",
			"label": "Number of products to show",
			"min": 2,
			"max": 12,
			"step": 1,
			"default": 4
		}
	],
	"presets": [
		{
			"name": "Featured Collection",
			"category": "Collection"
		}
	]
}
{% endschema %}
