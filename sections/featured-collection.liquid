{% comment %}
	This section dynamically pulls products from the "featured-products" collection.
{% endcomment %}

<div class="featured-products">
	<h2>Featured Products</h2>
	<div class="product-grid">
		{% assign featured_collection = collections[section.settings.collection] %}
		{% if featured_collection and featured_collection.products.size > 0 %}
			{% for product in featured_collection.products %}
				<div class="product-card">
					<a href="{{ product.url | within: featured_collection }}">
						<img src="{{ product.featured_image | img_url: '600x600' }}" alt="{{ product.title }}">
					</a>
					<h3>{{ product.title }}</h3>
					<p>{{ product.price | money }}</p>
					<a class="btn" href="{{ product.url }}">Buy</a>
				</div>
			{% endfor %}
		{% else %}
			<p>No featured products found.</p>
		{% endif %}
	</div>
</div>

{% schema %}
{
	"name": "Featured Products",
	"settings": [
		{
			"type": "collection",
			"id": "collection",
			"label": "Choose a collection"
		},
		{
			"type": "number",
			"id": "products_to_show",
			"label": "Products to show",
			"default": 3
		}
	]
}
{% endschema %}
{% stylesheet %}
	.featured-products {
		text-align: center;
	}
	.product-grid {
		display: flex;
		gap: 20px;
		justify-content: center;
		flex-wrap: wrap;
	}
	.product-card {
		border: 1px solid #ddd;
		padding: 15px;
		width: 250px;
	}
	.product-card img {
		width: 100%;
		height: auto;
	}
{% endstylesheet %}
